---
highlighter: shiki
css: unocss
colorSchema: dark
transition: fade-out
mdc: true
layout: center
lang: zh-TW
glowSeed: 4
title: MonoRepo å¯¦æˆ°æŒ‡å—ï¼šå·¥å…·é¸å‹èˆ‡ OXC æ€§èƒ½çªç ´
---

---
layout: intro
class: pl-25
---

# Michael

<div class="opacity-80">

è³‡æ·±è»Ÿé«”å·¥ç¨‹å¸« / æŠ€è¡“ Mentor<br>
å°ˆç²¾æ–¼å‰ç«¯æ¶æ§‹èˆ‡å·¥å…·éˆå„ªåŒ–<br>
é–‹æºé …ç›®è²¢ç»è€…<br>

</div>

<div my-10 w-min flex="~ gap-1" items-center justify-center>
  <div i-ri-github-line op50 ma text-xl/>
  <div><a href="https://github.com/michael" target="_blank" class="border-none! font-300">michael</a></div>
  <div i-ri-twitter-x-line op50 ma text-xl ml4/>
  <div><a href="https://twitter.com/michael" target="_blank" class="border-none! font-300">@michael</a></div>
</div>

---
layout: cover
---

<h1 flex="~ col">
<div mt1 ml10 flex="~ col">
  <span flex="~ gap-2 items-center">
    MonoRepo å¯¦æˆ°æŒ‡å—
  </span>
  <span flex="~ gap-2 items-center">
    å·¥å…·é¸å‹èˆ‡ OXC æ€§èƒ½çªç ´
  </span>
</div>
</h1>

<div abs-br mx-10 my-11 flex="~ col items-end" text-right>
  <div class="text-lg font-bold">JSDC 2025 å°èš</div>
  <div text-xs opacity-75>June 21, 2025</div>
</div>

---
layout: center
class: text-center
---

# æœ‰å¤šå°‘äººè½é MonoRepoï¼Ÿ

<div class="mt-16 text-6xl">
  ğŸ™‹â€â™‚ï¸
</div>

---
layout: center
class: text-center
---

# åœ˜éšŠæ­£åœ¨ä½¿ç”¨ MonoRepoï¼Ÿ

<div class="mt-16 text-6xl">
  ğŸ¤”
</div>

---
layout: center
class: text-center
---

# é‡éé€™äº›ç—›é»å—ï¼Ÿ

<div class="mt-8 space-y-6 max-w-2xl mx-auto">
  <div v-click class="text-2xl">è·‘å€‹ build è¦ç­‰ 5 åˆ†é˜</div>
  <div v-click class="text-2xl">Lint ä¸€è·‘å°±å»æ³¡å’–å•¡</div>
  <div v-click class="text-2xl">CI å‘Šè¨´ä½ é‚„è¦ç­‰ 30 åˆ†é˜</div>
</div>

<div v-after class="mt-12 text-xl text-amber-400">
  åœ¨ MonoRepo ä¸­é€™äº›å•é¡Œæœƒæ›´åš´é‡ï¼
</div>

---
layout: center
---

# è¤‡é›œåº¦çˆ†ç‚¸

<div class="text-center">
  <div class="text-left max-w-lg mx-auto">

```typescript
// å…¸å‹å¤§å‹ MonoRepo
const complexity = {
  files: 1000, // æª”æ¡ˆæ•¸é‡
  rules: 200, // ESLint è¦å‰‡
  packages: 50 // package æ•¸é‡
}

// ç¸½é‹ç®—é‡ = 1000 Ã— 200 Ã— 50
// = åƒè¬ç´šé‹ç®—ï¼
```

  </div>

  <div class="mt-8 text-xl text-red-400">
    é€™ä¸æ˜¯ç·šæ€§å¢é•·ï¼Œè€Œæ˜¯å¤šç¶­åº¦çˆ†ç‚¸
  </div>
</div>

---
layout: center
class: text-center
---

# MonoRepo ä¸‰å¤§é©…å‹•åŠ›

<div class="mt-12 space-y-8 max-w-3xl mx-auto">

<div class="text-center">
  <h2 class="text-2xl font-bold text-indigo-400">å¤šå¹³å°é–‹ç™¼</h2>
  <p class="mt-4">Web + Mobile + Desktop</p>
  <p class="text-sm opacity-75">å¦‚ä½•æœ‰æ•ˆå…±äº«æ¥­å‹™é‚è¼¯ï¼Ÿ</p>
</div>

<div class="text-center">
  <h2 class="text-2xl font-bold text-amber-400">æ¥­å‹™è¤‡é›œåº¦</h2>
  <p class="mt-4">å¾®æœå‹™ + çµ„ä»¶åº« + å·¥å…·éˆ</p>
  <p class="text-sm opacity-75">ç‰ˆæœ¬åŒæ­¥æœƒè®Šæˆå™©å¤¢</p>
</div>

</div>

---
layout: center
class: text-center
---

# MonoRepo ä¸‰å¤§é©…å‹•åŠ›

<div class="mt-12 space-y-8 max-w-3xl mx-auto">

<div class="text-center">
  <h2 class="text-2xl font-bold text-emerald-400">åœ˜éšŠå”ä½œ</h2>
  <p class="mt-4">å°åœ˜éšŠ â†’ ä¸­å‹åœ˜éšŠ â†’ å¤§å‹ä¼æ¥­</p>
  <p class="text-sm opacity-75">å”ä½œè¤‡é›œåº¦æ€¥åŠ‡ä¸Šå‡</p>
</div>

<div class="text-center">
  <h2 class="text-2xl font-bold text-indigo-400">è§£æ±ºæ–¹æ¡ˆ</h2>
  <p class="mt-4">çµ±ä¸€å·¥å…·éˆ + çµ±ä¸€è¦ç¯„ + çµ±ä¸€ç¨‹å¼ç¢¼åº«</p>
</div>

</div>

---
layout: center
---

# MultiRepo vs MonoRepo

<div grid="~ cols-2 gap-12" class="mt-8">

<div>
  <h2 class="text-xl font-bold text-red-400 mb-6">MultiRepo ç—›é»</h2>

  <div class="space-y-4 text-sm">
    <div>ä¿®å¾©ä¸€å€‹å…±äº«çµ„ä»¶ bugï¼š</div>
    <div class="ml-4 space-y-2 opacity-75">
      <div>1. ä¿®å¾© shared-components</div>
      <div>2. ç™¼å¸ƒæ–°ç‰ˆæœ¬åˆ° npm</div>
      <div>3. æ›´æ–° 4 å€‹å°ˆæ¡ˆä¾è³´</div>
      <div>4. å„è‡ªè·‘ CI/CD</div>
      <div>5. ç¥ˆç¦±æ²’æœ‰ breaking changes</div>
    </div>
    <div class="text-red-400 mt-4">éœ€è¦ä¸€æ•´å¤©ï¼Œé¢¨éšªå¾ˆé«˜</div>
  </div>
</div>

<div>
  <h2 class="text-xl font-bold text-emerald-400 mb-6">MonoRepo å„ªé›…</h2>

  <div class="space-y-4 text-sm">
    <div>åŒæ¨£çš„ä¿®å¾©ï¼š</div>
    <div class="ml-4 space-y-2 opacity-75">
      <div>1. ä¿®æ”¹ packages/components/Button.tsx</div>
      <div>2. ä¸€æ¬¡ commit é©—è­‰æ‰€æœ‰ä½¿ç”¨æ–¹</div>
    </div>
    <div class="text-emerald-400 mt-4">å¹¾åˆ†é˜å®Œæˆï¼Œé›¶é¢¨éšª</div>
  </div>
</div>

</div>

---
layout: center
class: text-center
---

# Lerna å·²æ­»ï¼Œpnpm ç•¶ç«‹

<div class="mt-12 space-y-8">

<div v-click>
  <h2 class="text-2xl font-bold text-red-400">Lerna çš„è¡°è½</h2>
  <div class="mt-4 grid grid-cols-3 gap-8 max-w-2xl mx-auto">
    <div>
      <div class="text-red-400 font-bold">ä½¿ç”¨ç‡</div>
      <div>25% â†’ 22%</div>
    </div>
    <div>
      <div class="text-red-400 font-bold">æ»¿æ„åº¦</div>
      <div>60% â†’ 48%</div>
    </div>
    <div>
      <div class="text-red-400 font-bold">ç¶­è­·</div>
      <div>ä¸å†ç©æ¥µ</div>
    </div>
  </div>
</div>

<div v-click>
  <h2 class="text-2xl font-bold text-emerald-400">pnpm çš„å´›èµ·</h2>
  <div class="mt-4 grid grid-cols-3 gap-8 max-w-2xl mx-auto">
    <div>
      <div class="text-emerald-400 font-bold">ä½¿ç”¨ç‡</div>
      <div>13% â†’ 21%</div>
    </div>
    <div>
      <div class="text-emerald-400 font-bold">æ»¿æ„åº¦</div>
      <div>90%+</div>
    </div>
    <div>
      <div class="text-emerald-400 font-bold">æ€§èƒ½</div>
      <div>50%+ æ›´å¿«</div>
    </div>
  </div>
</div>

</div>

---
layout: center
class: text-center
---

# å·¥å…·é¸å‹çŸ©é™£

<div class="mt-8">

| å·¥å…· | é©åˆåœ˜éšŠ | å­¸ç¿’æˆæœ¬ | æ¨è–¦åº¦ |
|------|----------|----------|--------|
| **pnpm Workspaces** | å°å‹åœ˜éšŠ (5-15äºº) | æ¥µç°¡ | â­â­â­â­â­ |
| **Turborepo** | ä¸­å‹åœ˜éšŠ (10-30äºº) | ç°¡å–® | â­â­â­â­ |
| **Nx** | å¤§å‹ä¼æ¥­ (20+äºº) | è¤‡é›œ | â­â­â­ |

</div>

<div class="mt-8 text-xl text-emerald-400">
  pnpmï¼šé›¶é…ç½®ï¼ŒåŸç”Ÿæ”¯æ´ï¼Œæ¥µé€Ÿå®‰è£
</div>

---
layout: center
class: text-center
---

# æ‰€æœ‰å·¥å…·çš„å…±åŒæ­»ç©´

<div class="mt-12 text-3xl font-bold text-red-400">
  æ€§èƒ½ç“¶é ¸
</div>

<div class="mt-8 space-y-4">
  <div class="text-xl">é‡è¤‡è§£æ AST</div>
  <div class="text-sm opacity-75">ESLintã€Prettierã€Babelã€TypeScript å„è‡ªè§£æ</div>
</div>

<div class="mt-8 space-y-4">
  <div class="text-xl">CI/CD æ™‚é–“çˆ†ç‚¸</div>
  <div class="text-sm opacity-75">Pipeline å‹•è¼’ 30 åˆ†é˜ä»¥ä¸Š</div>
</div>

---
layout: center
---

# å‚³çµ±å·¥å…·éˆå•é¡Œ

<div class="text-center">
  <div class="text-left max-w-lg mx-auto">

```bash
# å…¸å‹é–‹ç™¼æµç¨‹æ™‚é–“æ¶ˆè€—
$ npm run lint
â³ ESLint è§£æä¸­... 8åˆ†é˜

$ npm run format
â³ Prettier æ ¼å¼åŒ–ä¸­... 3åˆ†é˜

$ npm run build
â³ TypeScript ç·¨è­¯ä¸­... 12åˆ†é˜

# ç¸½è€—æ™‚ï¼š23åˆ†é˜ï¼
```

  </div>

  <div class="mt-8 text-xl text-red-400">
    é–‹ç™¼é«”é©—åš´é‡å—å½±éŸ¿
  </div>
</div>

---
layout: center
class: text-center
---

# OXC é©å‘½æ€§è§£æ±ºæ–¹æ¡ˆ

<div class="mt-8 text-xl">
  Oxidation Compiler Collection
</div>

<div class="mt-8 text-sm opacity-75">
  Rust é©…å‹•çš„ JavaScript å·¥å…·éˆ
</div>

<div class="mt-12 grid grid-cols-2 gap-12 max-w-3xl mx-auto">
  <div>
    <h3 class="text-lg font-bold text-emerald-400 mb-4">æ ¸å¿ƒå„ªå‹¢</h3>
    <div class="space-y-3 text-sm">
      <div>50-100å€ é€Ÿåº¦æå‡</div>
      <div>80% è¨˜æ†¶é«”æ¸›å°‘</div>
      <div>ä¸€æ¬¡ AST è§£æ</div>
      <div>åŸç”Ÿä¸¦è¡Œè™•ç†</div>
    </div>
  </div>

  <div>
    <h3 class="text-lg font-bold text-indigo-400 mb-4">é—œéµæŠ€è¡“</h3>
    <div class="space-y-3 text-sm">
      <div>çµ±ä¸€ AST é©å‘½</div>
      <div>Zero-copy è¨˜æ†¶é«”å…±äº«</div>
      <div>Rust åŸç”Ÿæ€§èƒ½</div>
      <div>å¤šæ ¸ CPU å……åˆ†åˆ©ç”¨</div>
    </div>
  </div>
</div>

---
layout: center
class: text-center
---

# çµ±ä¸€ AST æ¶æ§‹

<div grid="~ cols-2 gap-12" class="mt-8">

<div>
  <h2 class="text-lg font-bold text-red-400 mb-6">å‚³çµ±ï¼šNÃ—AST è§£æ</h2>
  <div class="space-y-2 text-sm">
    <div>ESLint â†’ ASTâ‚</div>
    <div>Prettier â†’ ASTâ‚‚</div>
    <div>Babel â†’ ASTâ‚ƒ</div>
    <div>TypeScript â†’ ASTâ‚„</div>
  </div>
  <div class="mt-4 text-red-400">
    é‡è¤‡è§£æï¼šO(4n) è¤‡é›œåº¦
  </div>
</div>

<div>
  <h2 class="text-lg font-bold text-emerald-400 mb-6">OXCï¼šçµ±ä¸€ AST</h2>
  <div class="space-y-2 text-sm">
    <div>OXC â†’ Unified AST</div>
    <div>â”œâ”€ oxc_linter</div>
    <div>â”œâ”€ oxc_formatter</div>
    <div>â”œâ”€ oxc_transformer</div>
    <div>â””â”€ oxc_resolver</div>
  </div>
  <div class="mt-4 text-emerald-400">
    é›¶æ‹·è²å…±äº«ï¼šO(n) è¤‡é›œåº¦
  </div>
</div>

</div>

---
layout: center
class: text-center
---

# æ€§èƒ½è¡¨ç¾å°æ¯”

<div class="mt-12 grid grid-cols-3 gap-8">

<div class="text-center">
  <div class="text-4xl font-bold text-emerald-400">60Ã—</div>
  <h3 class="font-semibold mt-2">å°å‹å°ˆæ¡ˆ</h3>
  <div class="text-sm opacity-75 mt-2">1K æª”æ¡ˆ</div>
  <div class="text-sm mt-2">
    <div class="text-red-400">å‚³çµ±ï¼š30ç§’</div>
    <div class="text-emerald-400">OXCï¼š0.5ç§’</div>
  </div>
</div>

<div class="text-center">
  <div class="text-4xl font-bold text-indigo-400">96Ã—</div>
  <h3 class="font-semibold mt-2">ä¸­å‹å°ˆæ¡ˆ</h3>
  <div class="text-sm opacity-75 mt-2">10K æª”æ¡ˆ</div>
  <div class="text-sm mt-2">
    <div class="text-red-400">å‚³çµ±ï¼š8åˆ†é˜</div>
    <div class="text-indigo-400">OXCï¼š5ç§’</div>
  </div>
</div>

<div class="text-center">
  <div class="text-4xl font-bold text-amber-400">90Ã—</div>
  <h3 class="font-semibold mt-2">å¤§å‹å°ˆæ¡ˆ</h3>
  <div class="text-sm opacity-75 mt-2">50K æª”æ¡ˆ</div>
  <div class="text-sm mt-2">
    <div class="text-red-400">å‚³çµ±ï¼š45åˆ†é˜</div>
    <div class="text-amber-400">OXCï¼š30ç§’</div>
  </div>
</div>

</div>

---
layout: center
class: text-center
---

# ä¼æ¥­ç´šé©—è­‰

<div class="mt-12 space-y-8">

<div>
  <h2 class="text-2xl font-bold text-emerald-400">Shopify</h2>
  <p class="mt-2">500è¬è¡Œç¨‹å¼ç¢¼</p>
  <p class="text-lg">75åˆ†é˜ â†’ 8ç§’</p>
  <p class="text-emerald-400 font-bold">450Ã— æå‡</p>
</div>

<div>
  <h2 class="text-2xl font-bold text-indigo-400">Discord</h2>
  <p class="mt-2">15è¬+ æª”æ¡ˆ</p>
  <p class="text-lg">å®Œæ•´æª¢æŸ¥åªéœ€ 3ç§’</p>
</div>

</div>

---
layout: center
---

# å¯¦æˆ°æ•´åˆï¼šç«‹å³å¯ç”¨

<div class="text-center">
  <div class="text-left max-w-lg mx-auto">

```json
// package.json
{
  "scripts": {
    "lint": "oxlint && eslint .",
    "lint:fix": "oxlint && eslint . --fix"
  },
  "devDependencies": {
    "oxlint": "^0.15.0"
  }
}
```

  </div>

  <div v-click class="mt-8 text-xl text-emerald-400">
    é›¶ç ´å£æ€§æ›´æ–°ï¼Œç«‹å³è¦‹æ•ˆ
  </div>
</div>

---
layout: center
class: text-center
---

# æ¼¸é€²å¼å°å…¥ç­–ç•¥

<div class="mt-12 space-y-8">

<div>
  <h2 class="text-xl font-bold text-indigo-400">ç¬¬ä¸€é€±ï¼šä¸¦è¡Œé©—è­‰</h2>
  <p class="mt-2">ä¿æŒç¾æœ‰é…ç½®ï¼Œä¸¦è¡ŒåŸ·è¡Œ OXC</p>
</div>

<div v-click>
  <h2 class="text-xl font-bold text-emerald-400">ç¬¬äºŒé€±ï¼šéƒ¨åˆ†æ›¿æ›</h2>
  <p class="mt-2">pre-commit ä½¿ç”¨ OXCï¼ŒCI ä¿ç•™ ESLint</p>
</div>

<div v-click>
  <h2 class="text-xl font-bold text-amber-400">ç¬¬ä¸‰é€±ï¼šå®Œå…¨é·ç§»</h2>
  <p class="mt-2">äº«å— 10-50å€é€Ÿåº¦æå‡</p>
</div>

</div>

---
layout: center
class: text-center
---

# Void0 è¨ˆåŠƒ

<div class="mt-8 text-lg">
  Evan You é ˜å°çš„é›„å¿ƒè¨ˆåŠƒ
</div>

<div class="mt-8 grid grid-cols-2 gap-8 max-w-2xl mx-auto">
  <div class="text-center">
    <div class="text-indigo-400 font-bold">å·²å®Œæˆ</div>
    <div class="mt-2">Oxlint</div>
  </div>
  <div class="text-center">
    <div class="text-emerald-400 font-bold">é–‹ç™¼ä¸­</div>
    <div class="mt-2">Rolldown</div>
  </div>
  <div class="text-center">
    <div class="text-amber-400 font-bold">è¦åŠƒä¸­</div>
    <div class="mt-2">Formatter</div>
  </div>
  <div class="text-center">
    <div class="text-purple-400 font-bold">é¡˜æ™¯</div>
    <div class="mt-2">JS Engine</div>
  </div>
</div>

<div v-click class="mt-8 text-xl text-amber-400">
  Oxlint åªæ˜¯å…«å€‹å·¥å…·ä¹‹ä¸€ï¼
</div>

---
layout: center
class: text-center
---

# ç¸½çµ

<div class="mt-12 space-y-8">

<div class="text-2xl font-bold text-indigo-400">
  MonoRepo æ˜¯è¶¨å‹¢
</div>

<div class="text-2xl font-bold text-emerald-400">
  pnpm å·²å‹å‡º
</div>

<div class="text-2xl font-bold text-amber-400">
  OXC æ˜¯æœªä¾†
</div>

</div>

---
layout: center
class: text-center
---

# ç«‹å³è¡Œå‹•

<div class="mt-12 space-y-8 max-w-2xl mx-auto">

<div>
  <h2 class="text-xl font-bold text-emerald-400">ä»Šå¤©å°±é–‹å§‹</h2>
  <p class="mt-2">npm install -D oxlint</p>
  <p class="text-sm opacity-75">ä¿®æ”¹ä¸€è¡Œé…ç½®ï¼Œç«‹å³æå‡</p>
</div>

<div v-click>
  <h2 class="text-xl font-bold text-indigo-400">æŒçºŒé—œæ³¨</h2>
  <p class="mt-2">Nx 2025 è·¯ç·šåœ–</p>
  <p class="text-sm opacity-75">æº–å‚™ç„¡ç¸«å‡ç´š</p>
</div>

</div>

<div v-click class="mt-12 text-xl font-bold text-emerald-400">
  æ•ˆç‡é©å‘½å¾é¸å°å·¥å…·é–‹å§‹ï¼
</div>

---
layout: end
class: text-center
---

# è¬è¬å¤§å®¶ï¼

<div class="mt-8">
  <div class="text-xl font-semibold">Q&A è¨è«–æ™‚é–“</div>
  <div class="text-gray-400 mt-2">ä¸€èµ·æ¨å‹•å‰ç«¯é–‹ç™¼æ•ˆç‡é©å‘½</div>
</div>

<div class="mt-10 text-sm opacity-50">
  JSDC 2025 å°èš â€¢ MonoRepo å¯¦æˆ°æŒ‡å—
</div>
